webpackJsonp([1],{AcQK:function(n,e){},AqYs:function(n,e){n.exports="data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjEwMnB4IiBoZWlnaHQ9IjE1NnB4IiB2aWV3Qm94PSIwIDAgMTAyIDE1NiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNSAoNjc0NjkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkljb24gJmFtcDsgTG9nbzwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxmaWx0ZXIgeD0iLTI4LjMlIiB5PSItMTguMCUiIHdpZHRoPSIxNTYuNyUiIGhlaWdodD0iMTM2LjYlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMSI+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjciIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVPZmZzZXQ+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjMiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAgICAwIDAgMCAwIDAgICAwIDAgMCAwIDAgIDAgMCAwIDAuMTYwMDQzMDI1IDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiIHJlc3VsdD0ic2hhZG93TWF0cml4T3V0ZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgICAgIDxmZU1lcmdlPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJzaGFkb3dNYXRyaXhPdXRlcjEiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgIDwvZmVNZXJnZT4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgICA8cG9seWdvbiBpZD0icGF0aC0yIiBwb2ludHM9IjAgMC4xOTAzOTAxMzMgODkuOTI4MTI5NyAwLjE5MDM5MDEzMyA4OS45MjgxMjk3IDkwLjczMjQyMzUgMCA5MC43MzI0MjM1Ij48L3BvbHlnb24+CiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtNCIgcG9pbnRzPSIwIDAuMzA0NTIyOTcgODkuOTI4MTI5NyAwLjMwNDUyMjk3IDg5LjkyODEyOTcgMzAuMDgzNTIwNiAwIDMwLjA4MzUyMDYiPjwvcG9seWdvbj4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJpUGhvbmUtNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzNy4wMDAwMDAsIC0xMDAuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJJY29uLSZhbXA7LUxvZ28iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0My4wMDAwMDAsIDEwMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJPdmFsLTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE5LjAwMDAwMCwgMTIuMDAwMDAwKSIgZmlsbD0iIzM3MkE4RiIgc3Ryb2tlPSIjOTc5Nzk3Ij4KICAgICAgICAgICAgICAgICAgICA8ZWxsaXBzZSBpZD0iT3ZhbCIgY3g9IjI4LjUiIGN5PSIzNC41IiByeD0iMjguNSIgcnk9IjM0LjUiPjwvZWxsaXBzZT4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC03IiBmaWx0ZXI9InVybCgjZmlsdGVyLTEpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMC43NzAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAtMyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxtYXNrIGlkPSJtYXNrLTMiIGZpbGw9IndoaXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMiI+PC91c2U+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IkNsaXAtMiI+PC9nPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNDUuMDYzODkxOSw3MS4zMDM5NzU2IEM1NC45NTc4NTk1LDcxLjMwMzk3NTYgNjIuOTc4NTI5Nyw2My40MDA5MjAyIDYyLjk3ODUyOTcsNTMuNjUxOTEzOCBDNjIuOTc4NTI5Nyw0My45MDI5MDc0IDQ4LjM1NDQ4NjUsMTkuNzY2NDE0OCA0NS4wNjM4OTE5LDE5Ljc2NjQxNDggQzQxLjc3MzI5NzMsMTkuNzY2NDE0OCAyNy4xNDY3ODkyLDQzLjkwMjkwNzQgMjcuMTQ2Nzg5Miw1My42NTE5MTM4IEMyNy4xNDY3ODkyLDYzLjQwMDkyMDIgMzUuMTY5OTI0Myw3MS4zMDM5NzU2IDQ1LjA2Mzg5MTksNzEuMzAzOTc1NiBNNDQuOTYyODMyNCw5MC43MzI0MjM1IEMyNS4yNjExNjc2LDkwLjczMjQyMzUgMTQuMzA3MzA4MSw5MC43MzI0MjM1IDcuMTU0MjcwMjcsODMuNTI5OTg0OCBDLTAuMDAxMjMyNDMyNDMsNzYuMzI3NTQ2MSAtMC4wMDEyMzI0MzI0Myw2NS4yOTkwNDQ4IC0wLjAwMTIzMjQzMjQzLDQ1LjQ2MzE0NiBDLTAuMDAxMjMyNDMyNDMsMjUuNjIyMjc4MiAtMC4wMDEyMzI0MzI0MywxNC41OTYyNjEzIDcuMTU0MjcwMjcsNy4zOTEzMzgxNyBDMTQuMzA3MzA4MSwwLjE4ODg5OTQ2IDI1LjI2MTE2NzYsMC4xODg4OTk0NiA0NC45NjI4MzI0LDAuMTg4ODk5NDYgQzY0LjY2Njk2MjIsMC4xODg4OTk0NiA3NS42MjA4MjE2LDAuMTg4ODk5NDYgODIuNzczODU5NSw3LjM5MTMzODE3IEM4OS45MjkzNjIyLDE0LjU5NjI2MTMgODkuOTI5MzYyMiwyNS42MjIyNzgyIDg5LjkyOTM2MjIsNDUuNDYzMTQ2IEM4OS45MjkzNjIyLDY1LjI5OTA0NDggODkuOTI5MzYyMiw3Ni4zMjc1NDYxIDgyLjc3Mzg1OTUsODMuNTI5OTg0OCBDNzUuNjIwODIxNiw5MC43MzI0MjM1IDY0LjY2Njk2MjIsOTAuNzMyNDIzNSA0NC45NjI4MzI0LDkwLjczMjQyMzUiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiIG1hc2s9InVybCgjbWFzay0zKSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDwvZz4KCiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo="},Ckad:function(n,e){},K5Ec:function(n,e){},NHnr:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t("Xrl+"),t("fLmE");var a=t("7+uW"),i=t("yviF"),I=t.n(i),g=(t("dih4"),t("hZls"),t("hnaQ")),o=t("EOUi"),r=t.n(o),s={render:function(){var n=this.$createElement,e=this._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var c=t("VU/8")(null,s,!1,function(n){t("Ckad")},null,null).exports,u=t("kxiW"),A=t.n(u),l=t("/ocq"),d={name:"GardenList",props:{},methods:{addGarden:function(){var n=this.gardens.length+1,e="garden_";e+=n<10?"0"+n:n;var t="Garden "+n;f.collection("users").doc(k.currentUser.email).collection("gardens").doc(e).set({name:t,slug:this.generateUUID()})},editGarden:function(n){this.$router.push({name:"EditGarden",params:{id:n.slug},query:{docname:n.id,name:n.name}})},generateUUID:function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:3&t|8).toString(16)})}},data:function(){return{gardens:[]}},firestore:function(){return{gardens:f.collection("users").doc(k.currentUser.email).collection("gardens")}}},M={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[n._l(n.gardens,function(e){return t("div",[t("v-ons-button",{on:{click:function(t){n.editGarden(e)}}},[n._v(n._s(e.name)+" ")])],1)}),n._v(" "),t("v-ons-button",{on:{click:n.addGarden}},[n._v("Add Garden")])],2)},staticRenderFns:[]};var C={name:"home",components:{GardenList:t("VU/8")(d,M,!1,function(n){t("nPlM")},null,null).exports},methods:{logout:function(){var n=this;A.a.auth().signOut().then(function(){n.$router.replace("login")})}}},m={render:function(){var n=this.$createElement,e=this._self._c||n;return e("div",{staticClass:"home"},[e("GardenList"),this._v(" "),e("v-ons-button",{on:{click:this.logout}},[this._v("Logout")])],1)},staticRenderFns:[]};var D=t("VU/8")(C,m,!1,function(n){t("Qw+J")},null,null).exports,v={name:"login",data:function(){return{email:"",password:""}},methods:{login:function(){var n=this;A.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(e){n.$router.replace("Home")},function(n){alert("Oops. "+n.message)})}}},N={render:function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("div",{staticClass:"login"},[a("img",{attrs:{alt:"Vue logo",src:t("AqYs")}}),n._v(" "),a("h3",[n._v("Sign In")]),n._v(" "),a("v-ons-input",{attrs:{type:"email",placeholder:"Email"},model:{value:n.email,callback:function(e){n.email=e},expression:"email"}}),a("br"),n._v(" "),a("v-ons-input",{attrs:{type:"password",placeholder:"Password"},model:{value:n.password,callback:function(e){n.password=e},expression:"password"}}),a("br"),n._v(" "),a("v-ons-button",{staticClass:"button-margin",on:{click:n.login}},[n._v("Connection")]),n._v(" "),a("p",[n._v("You don't have an account? You can "),a("router-link",{attrs:{to:"/signup"}},[n._v("create one")]),n._v(".")],1)],1)},staticRenderFns:[]};var p=t("VU/8")(v,N,!1,function(n){t("o3Ym")},"data-v-fef0ff4a",null).exports,x={name:"signUp",data:function(){return{email:"",password:""}},methods:{signUp:function(){var n=this;A.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(e){n.$router.replace("Home")},function(n){alert("Oops. "+n.message)})}}},j={render:function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("div",{staticClass:"sign-up"},[a("img",{attrs:{alt:"Vue logo",src:t("AqYs")}}),n._v(" "),a("p",[n._v("Let's create a new account!")]),n._v(" "),a("v-ons-input",{attrs:{type:"email",placeholder:"Email"},model:{value:n.email,callback:function(e){n.email=e},expression:"email"}}),a("br"),n._v(" "),a("v-ons-input",{attrs:{type:"password",placeholder:"Password"},model:{value:n.password,callback:function(e){n.password=e},expression:"password"}}),a("br"),n._v(" "),a("v-ons-button",{staticClass:"button-margin",on:{click:n.signUp}},[n._v("Sign Up")]),n._v(" "),a("span",[n._v("or go back to "),a("router-link",{attrs:{to:"/login"}},[n._v("login")]),n._v(".")],1)],1)},staticRenderFns:[]};var z=t("VU/8")(x,j,!1,function(n){t("K5Ec")},"data-v-694f2e2e",null).exports,w={name:"EditGarden",methods:{updateName:function(){f.collection("users").doc(k.currentUser.email).collection("gardens").doc(this.docname).set({name:this.gardenname},{merge:!0})}},data:function(){return{gardenname:"Garden 1",docname:"garden_01"}},created:function(){this.$route.query.name&&(this.gardenname=this.$route.query.name),this.$route.query.docname&&(this.docname=this.$route.query.docname)}},h={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-ons-page",[t("v-ons-toolbar",[t("div",{staticClass:"left"},[t("v-ons-back-button",{on:{click:function(e){n.$router.go(-1)}}},[n._v("Overview")])],1),n._v(" "),t("div",{staticClass:"center"},[n._v("Garden Settings")])]),n._v(" "),t("div",{staticClass:"margin-top"},[t("label",{attrs:{for:"gardenNaming"}},[n._v("Garden Name: ")])]),n._v(" "),t("v-ons-input",{model:{value:n.gardenname,callback:function(e){n.gardenname=e},expression:"gardenname"}}),n._v(" "),t("div",{staticClass:"margin-top"},[n._v("Your garden will be updated to "+n._s(n.gardenname)+" when you click the button.")]),n._v(" "),t("div",[t("v-ons-button",{on:{click:n.updateName}},[n._v("Update Garden Name")])],1),n._v(" "),t("div",{staticClass:"margin-top"},[t("p",[n._v("Connect to Dripio Controller")]),n._v(" "),t("v-ons-fab",{attrs:{ripple:""}},[t("ons-icon",{attrs:{icon:"fa-wifi"}})],1)],1)],1)},staticRenderFns:[]};var y=t("VU/8")(w,h,!1,function(n){t("AcQK")},null,null).exports;a.a.use(l.a);var T=new l.a({routes:[{path:"*",redirect:"/login"},{path:"/",redirect:"/login"},{path:"/home",name:"Home",component:D,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:p},{path:"/signup",name:"SignUp",component:z},{path:"/garden/:id",name:"EditGarden",component:y,meta:{requiresAuth:!0}}]});T.beforeEach(function(n,e,t){var a=A.a.auth().currentUser,i=n.matched.some(function(n){return n.meta.requiresAuth});i&&!a?t("login"):!i&&a?t("home"):t()});var b=T;t.d(e,"db",function(){return f}),t.d(e,"auth",function(){return k}),a.a.use(g.a),a.a.use(r.a),a.a.config.productionTip=!1;var Z="";I.a.initializeApp({apiKey:"***REMOVED***",authDomain:"***REMOVED***",databaseURL:"***REMOVED***",projectId:"***REMOVED***",storageBucket:"***REMOVED***.appspot.com",messagingSenderId:"***REMOVED***"});var f=I.a.firestore();f.settings({timestampsInSnapshots:!0});var k=I.a.auth();I.a.auth().onAuthStateChanged(function(n){var e=f.collection("users");n&&e.doc(n.email).get().then(function(t){if(!t.exists){var a=e.doc(n.email);a.set({email:n.email}),a.collection("gardens").doc("garden_01").set({name:"Garden 1",slug:(i=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===n?e:3&e|8).toString(16)}))})}var i}).catch(function(n){console.log("Error getting document:",n)});Z||(Z=new a.a({router:b,render:function(n){return n(c)}}).$mount("#app"))})},"Qw+J":function(n,e){},"Xrl+":function(n,e){},fLmE:function(n,e){},nPlM:function(n,e){},o3Ym:function(n,e){}},["NHnr"]);
//# sourceMappingURL=app.a6b43d9e6c44d21b4de3.js.map